<app-loading *ngIf="spinnerService.visibility | async"></app-loading>
<mat-grid-list rowHeight="1.5em" cols="1">
    <mat-grid-tile>
        <div class="right-elem">
            <button mat-icon-button (click)="closeDialog()"><img [src]="closeGrigio"></button>
        </div>
    </mat-grid-tile>
</mat-grid-list>
<app-message-box [titolo]="titoloErrore" [descrizione]="descrizioneErrore" [type]="2" *ngIf="titoloErrore!=''">
</app-message-box>
<app-title [title]="'Ricerca impresa'" [subtitle]="''"></app-title>
<form class="form-container" [formGroup]="searchForm">
    <mat-grid-list cols="2" rowHeight="2em">
        <mat-grid-tile colspan="2" rowspan="2">
            <mat-form-field class="form-field">
                <input matInput placeholder="Codice fiscale/P.IVA" [formControlName]="'cf'">
            </mat-form-field>
        </mat-grid-tile>
        <mat-grid-tile rowspan="2" colspan="2">
            <button mat-button class="secondary-button" (click)="cercaPerCF()"
                [disabled]="searchForm.controls.cf.errors && searchForm.controls.cf.errors.pattern">
                CERCA PER CODICE FISCALE</button>
        </mat-grid-tile>
        <mat-grid-tile rowspan="2" colspan="2">
            <mat-form-field class="form-field">
                <input matInput placeholder="Sigla REA" [formControlName]="'siglaRea'">
            </mat-form-field>
        </mat-grid-tile>
        <mat-grid-tile rowspan="2" colspan="2">
            <mat-form-field class="form-field">
                <input matInput placeholder="Numero REA" [formControlName]="'numeroRea'">
            </mat-form-field>
        </mat-grid-tile>
        <mat-grid-tile rowspan="2" colspan="2">
            <button mat-button class="secondary-button" (click)="cercaPerREA()" [disabled]="(searchForm.controls.numeroRea.errors && searchForm.controls.numeroRea.errors.pattern)
            ||(searchForm.controls.siglaRea.errors && searchForm.controls.siglaRea.errors.pattern)">
                CERCA PER CODICE REA</button>
        </mat-grid-tile>
    </mat-grid-list>
    <app-ricerca-pg-result [persone]="persone" (inserisciComponente)="inserisciComponente($event)">
    </app-ricerca-pg-result>
</form>